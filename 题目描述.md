ltnb

## 题目描述

**前置定义：（牛逼值）**

​	给定一个长度为n的数组：$a_1,a_2,a_3...a_n$，该数组的牛逼值为：$(\sum_{i=1}^na_i)+\sum_{i=1}^n\sum_{j=i+1}^n(a_i \oplus a_{i+1}\oplus ...\oplus a_j)$。其中$\oplus$表示异或运算，与传统异或运算定义一致。

例如长度为3的数组：$a_1=1,a_2=2,a_3=3$，那么他的牛逼值为：

$(a_1+a_2+a_3)+(a_1\oplus a_2)+(a_1\oplus a_2\oplus a_3)+(a_2\oplus a_3)$=10。

**题面：**

​	lt是一个三维生物，他掌管着二维世界的运行规律，某一天他发现一颗有$n$个节点的无根树，该树只有点权，没有边权，现在他要进行$m$次操作，每次进行以下两种操作之一：

1. 选择一个节点，将其点权进行修改。
2. 给出参数u,v，询问u->v的简单路径上的所有点按顺序组成一个数组，计算这个数组的牛逼值。

## 输入描述

​	单组输入。

​	第一行输入$n,m$，代表树的节点个数，以及进行的操作次数，保证$2<=n,m<=5*10^4$。

​	第二行输入$n$个正整数，代表每个节点的点权，保证输入值$1<=x<=10^8$。

​	接下来$n-1$行，每行两个正整数$u,v$，表示节点$u$与节点$v$之间有一条双向边，保证输入规模为一颗树，且$1<=u,v<=n且u!=v$。

​	接下来$m$行，每行三个数字$id,u,v$，保证$1<=id<=2$。

​	若id=1，则表示是第一种操作，此时$1<=u<=n,1<=v<=10^9$，将节点$u$的点权修改为$v$。

​	若id=2，则表示是第二种操作，此时$1<=u,v<=n$，你需要输出该次询问结果。

## 输出描述

​	对于每个第二种操作输出一行，表示该次询问的结果。